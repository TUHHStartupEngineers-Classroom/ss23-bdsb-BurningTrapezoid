{
  "hash": "6065aa9a214fd9aad69d5f58bffb38a9",
  "result": {
    "markdown": "---\ntitle: \"Data Wrangling\"\nauthor: \"Andreas Jessen\"\n---\n\nBelow are my results for the three Questions of the data wrangling challenge.\n\n\n::: {.cell hash='03_data_wrangling_cache/html/unnamed-chunk-1_6f23201bf3385d97eccf0022e299019f'}\n\n```{.r .cell-code}\n# Tidyverse\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n#> ✔ dplyr     1.1.2     ✔ readr     2.1.4\n#> ✔ forcats   1.0.0     ✔ stringr   1.5.0\n#> ✔ ggplot2   3.4.2     ✔ tibble    3.2.1\n#> ✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n#> ✔ purrr     1.0.1     \n#> ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n#> ✖ dplyr::filter() masks stats::filter()\n#> ✖ dplyr::lag()    masks stats::lag()\n#> ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n:::\n\n```{.r .cell-code}\nlibrary(vroom)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> \n#> Attache Paket: 'vroom'\n#> \n#> Die folgenden Objekte sind maskiert von 'package:readr':\n#> \n#>     as.col_spec, col_character, col_date, col_datetime, col_double,\n#>     col_factor, col_guess, col_integer, col_logical, col_number,\n#>     col_skip, col_time, cols, cols_condense, cols_only, date_names,\n#>     date_names_lang, date_names_langs, default_locale, fwf_cols,\n#>     fwf_empty, fwf_positions, fwf_widths, locale, output_column,\n#>     problems, spec\n```\n:::\n\n```{.r .cell-code}\n# Data Table\nlibrary(data.table)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> \n#> Attache Paket: 'data.table'\n#> \n#> Die folgenden Objekte sind maskiert von 'package:lubridate':\n#> \n#>     hour, isoweek, mday, minute, month, quarter, second, wday, week,\n#>     yday, year\n#> \n#> Die folgenden Objekte sind maskiert von 'package:dplyr':\n#> \n#>     between, first, last\n#> \n#> Das folgende Objekt ist maskiert 'package:purrr':\n#> \n#>     transpose\n```\n:::\n\n```{.r .cell-code}\ncol_types <- list(\n  id = col_character(),\n  date = col_date(\"%Y-%m-%d\"),\n  num_claims = col_double()\n)\n\npatent_tbl <- vroom(\n  file       = \"/home/andi/Dokumente/Uni/Business Data Science Basics/ds_data/Patent_data_reduced/patent.tsv\", \n  delim      = \"\\t\", \n  col_types  = col_types,\n  na         = c(\"\", \"NA\", \"NULL\")\n)\n\nsetDT(patent_tbl)\n\npatent_assignee_tbl <- vroom(\n  file       = \"/home/andi/Dokumente/Uni/Business Data Science Basics/ds_data/Patent_data_reduced/patent_assignee.tsv\", \n  delim      = \"\\t\", \n  col_types  = list(\n    patent_id = col_character(),\n    assignee_id = col_character()\n  ),\n  na         = c(\"\", \"NA\", \"NULL\")\n) \nsetDT(patent_assignee_tbl)\n\nassignee_tbl <- vroom(\n  file       = \"/home/andi/Dokumente/Uni/Business Data Science Basics/ds_data/Patent_data_reduced/assignee.tsv\", \n  delim      = \"\\t\", \n  col_types  = list(\n    id = col_character(),\n    type = col_double(),\n    organization = col_character()\n  ),\n  na         = c(\"\", \"NA\", \"NULL\")\n)\nsetDT(assignee_tbl)\n\nuspc_tbl <- vroom(\n  file       = \"/home/andi/Dokumente/Uni/Business Data Science Basics/ds_data/Patent_data_reduced/uspc.tsv\", \n  delim      = \"\\t\", \n  col_types  = list(\n    patent_id = col_character(),\n    mainclass_id = col_character(),\n    sequence = col_double()\n  ),\n  na         = c(\"\", \"NA\", \"NULL\")\n)\nsetDT(uspc_tbl)\n\n# Question 1 ----\n\nq1_tbl <- merge(patent_assignee_tbl, assignee_tbl, by.x='assignee_id', by.y='id')\n\nsetkey(q1_tbl, 'organization')\n\ntop10 <- q1_tbl[!is.na(organization), .N, by = organization][order(-N)][1:10]\ntop10\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"organization\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"N\"],\"name\":[2],\"type\":[\"int\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"International Business Machines Corporation\",\"2\":\"7547\"},{\"1\":\"Samsung Electronics Co., Ltd.\",\"2\":\"5835\"},{\"1\":\"Canon Kabushiki Kaisha\",\"2\":\"4099\"},{\"1\":\"Sony Corporation\",\"2\":\"3326\"},{\"1\":\"Microsoft Corporation\",\"2\":\"3165\"},{\"1\":\"Google Inc.\",\"2\":\"2668\"},{\"1\":\"Kabushiki Kaisha Toshiba\",\"2\":\"2656\"},{\"1\":\"QUALCOMM Incorporated\",\"2\":\"2597\"},{\"1\":\"LG Electronics Inc.\",\"2\":\"2459\"},{\"1\":\"Panasonic Corporation\",\"2\":\"2218\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n# Question 2 ----\n\nq2_tbl <- merge(patent_tbl, q1_tbl, by.x = \"id\", by.y='patent_id')\n\nsetkey(q2_tbl, 'organization')\n\nq2_tbl[!is.na(organization)&lubridate::month(date) == \"8\" & lubridate::year(date) == \"2014\", .N, by = organization][order(-N)][1:10]\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"organization\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"N\"],\"name\":[2],\"type\":[\"int\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"International Business Machines Corporation\",\"2\":\"718\"},{\"1\":\"Samsung Electronics Co., Ltd.\",\"2\":\"524\"},{\"1\":\"Canon Kabushiki Kaisha\",\"2\":\"361\"},{\"1\":\"Microsoft Corporation\",\"2\":\"337\"},{\"1\":\"Sony Corporation\",\"2\":\"269\"},{\"1\":\"Google Inc.\",\"2\":\"240\"},{\"1\":\"QUALCOMM Incorporated\",\"2\":\"223\"},{\"1\":\"Apple Inc.\",\"2\":\"222\"},{\"1\":\"Kabushiki Kaisha Toshiba\",\"2\":\"213\"},{\"1\":\"LG Electronics Inc.\",\"2\":\"211\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n\n```{.r .cell-code}\n# Question 3 ----\n\nq3_tbl <- merge(uspc_tbl, q1_tbl)\n\ntop_organizations <- top10$organization\n\nsetkey(q3_tbl, 'organization')\n\nq3_tbl[organization %in% top_organizations, .N, mainclass_id][order(-N)][1:5]\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"mainclass_id\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"N\"],\"name\":[2],\"type\":[\"int\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"257\",\"2\":\"7979\"},{\"1\":\"455\",\"2\":\"6191\"},{\"1\":\"370\",\"2\":\"5483\"},{\"1\":\"348\",\"2\":\"4113\"},{\"1\":\"709\",\"2\":\"4018\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}