{
  "hash": "ec9dc3565df6e201ff75c13c8a6526c9",
  "result": {
    "markdown": "---\ntitle: \"Data Visualization\"\nauthor: \"Andreas Jessen\"\n---\n\n# Callenge 1: \n\n\n::: {.cell hash='04_data_visualization_cache/html/unnamed-chunk-1_8cfa7d18a96a4e083997b6da32458b05'}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n#> ✔ dplyr     1.1.2     ✔ readr     2.1.4\n#> ✔ forcats   1.0.0     ✔ stringr   1.5.0\n#> ✔ ggplot2   3.4.2     ✔ tibble    3.2.1\n#> ✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n#> ✔ purrr     1.0.1     \n#> ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n#> ✖ dplyr::filter() masks stats::filter()\n#> ✖ dplyr::lag()    masks stats::lag()\n#> ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n:::\n\n```{.r .cell-code}\ncovid_data_tbl <- read_csv(\n  \"https://covid.ourworldindata.org/data/owid-covid-data.csv\")\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Rows: 313070 Columns: 67\n#> ── Column specification ────────────────────────────────────────────────────────\n#> Delimiter: \",\"\n#> chr   (4): iso_code, continent, location, tests_units\n#> dbl  (62): total_cases, new_cases, new_cases_smoothed, total_deaths, new_dea...\n#> date  (1): date\n#> \n#> ℹ Use `spec()` to retrieve the full column specification for this data.\n#> ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n:::\n\n```{.r .cell-code}\nc1_tbl <- select(covid_data_tbl, location, date, total_cases) %>%\n  filter((location %in% c(\"Germany\", \"United Kingdom\", \"France\", \"Spain\", \n                         \"United States\"))&!is.na(total_cases))\n\n\n\nc1_tbl %>%\n  ggplot(aes(date, total_cases, color = location)) +\n  geom_line(size = 1) +\n  geom_label(label =  scales::dollar(filter(c1_tbl, date == \"2023-05-24\")$total_cases, \n                                     scale  = 1e-6, \n                                     prefix = \"\",\n                                     suffix = \"M\"),\n             data = c1_tbl %>%\n               filter(date == \"2023-05-24\"),\n             color='black') +\n  \n  theme_minimal() +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1)) +\n  labs(\n    title = \"Covid-19 confirmed cases worldwide\",\n    subtitle = \"as of 2023-05-24\",\n    x = \"\",\n    y = \"Cumulative Cases\"\n  ) +\n  scale_x_date(date_breaks = \"1 month\",\n               date_labels = \"%B %Y\")+\n  scale_y_continuous(labels = scales::dollar_format(scale = 1e-6, \n                                                    prefix = \"\",\n                                                    suffix = \"M\"))\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Warning: Using `size` aesthetic for lines was deprecated in ggplot2 3.4.0.\n#> ℹ Please use `linewidth` instead.\n```\n:::\n\n::: {.cell-output-display}\n![](04_data_visualization_files/figure-html/unnamed-chunk-1-1.png){width=672}\n:::\n:::\n\n\n# Challenge 2: \n\n\n::: {.cell hash='04_data_visualization_cache/html/unnamed-chunk-2_d93bbf1c4616678e5148ff565a5046bc'}\n\n```{.r .cell-code}\nworld <- map_data(\"world\") \n\n\nc2_tbl <- select(covid_data_tbl, location, date, total_deaths_per_million) %>%\n  filter(date == \"2023-05-24\"&!is.na(total_deaths_per_million)) %>% \n  mutate(location = case_when(\n    \n    location == \"United Kingdom\" ~ \"UK\",\n    location == \"United States\" ~ \"USA\",\n    location == \"Democratic Republic of Congo\" ~ \"Democratic Republic of the Congo\",\n    TRUE ~ location\n    \n  )) %>%\n  distinct() %>%\n  mutate(total_deaths_per_million = total_deaths_per_million/10000)\n\n\n  ggplot() +\n  geom_map(data = world, map = world, aes(x = long, y = lat, group = group, map_id=region)) +\n  geom_map(data = c2_tbl, map=world,\n           aes(fill=total_deaths_per_million, map_id=location)) +\n    \n  scale_y_continuous(breaks=c()) +\n  scale_x_continuous(breaks=c()) +\n  scale_fill_continuous(low=\"red\", high=\"black\", guide=\"colorbar\") +\n  labs(fill=\"Mortality rate in percent\",\n       title=\"Confirmed COVID-19 deaths worldwide\", \n       subtitle = \"Around 6.2 Million confirmed COVID-19 deaths worldwide\",\n       caption = \"Date 05/24/2023\",\n       x=\"\", \n       y=\"\") +\n  \n  theme_minimal()\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> Warning in geom_map(data = world, map = world, aes(x = long, y = lat, group =\n#> group, : Ignoring unknown aesthetics: x and y\n```\n:::\n\n::: {.cell-output-display}\n![](04_data_visualization_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}